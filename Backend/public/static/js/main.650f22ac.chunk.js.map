{"version":3,"sources":["assets/imgs/github-logo.png","cmp/AppFooter.tsx","cmp/AppHeader.tsx","services/event-bus.service.ts","cmp/UserMsg.tsx","cmp/Avatar.tsx","cmp/GameSummary.tsx","assets/imgs/bars-loader.svg","cmp/Loading.tsx","services/util.service.ts","services/http.service.ts","services/user.service.ts","services/game.service.ts","services/socket.service.ts","store/actions/gameActions.ts","services/canvas.service.ts","cmp/CountDown.tsx","cmp/Draw.tsx","cmp/WordToLines.tsx","cmp/Guess.tsx","hooks/useForm.ts","pages/DrawGuess.tsx","services/word.service.ts","cmp/SelectPreview.tsx","cmp/SelectList.tsx","cmp/ChooseWord.tsx","assets/imgs/waiting.gif","cmp/Waiting.tsx","pages/WaitingChoose.tsx","store/actions/userActions.ts","cmp/Invite.tsx","cmp/UserPreview.tsx","cmp/UserList.tsx","cmp/Login.tsx","pages/InviteLogin.tsx","cmp/GamePreview.tsx","cmp/GameList.tsx","routes/routes.ts","pages/GameApp.tsx","pages/StartNewGame.tsx","pages/HomePage.tsx","App.tsx","reportWebVitals.ts","store/reducers/gameReducer.ts","store/reducers/userReducer.ts","store/index.ts","index.tsx"],"names":["AppFotter","className","src","target","href","gitHubLogo","AppHeader","eventBusService","on","eventName","listener","callListener","detail","window","addEventListener","removeEventListener","emit","data","dispatchEvent","CustomEvent","showSuccessMsg","txt","showUserMsg","showErrorMsg","type","myBus","UserMsg","removeEvent","state","msg","this","setState","setTimeout","msgType","onClick","React","Component","Avatar","user","img","username","points","GameSummary","game","loggedinUser","useSelector","userModule","getRound","rounds","length","getStatus","userId","roundIdx","isDrawing","userDrawingId","_id","status","user1","user2","Loading","Loader","alt","utilService","makeId","possible","i","charAt","Math","floor","random","getCapitalDisplay","word","toUpperCase","slice","copyToClipboard","link","navigator","clipboard","writeText","showUpdateMassage","route","sortByValue","array","value","sort","a","b","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","ajax","method","url","params","res","console","log","dir","response","location","assign","STORAGE_KEY_LOGGEDIN_USER","userService","login","logout","getUsers","getLoggedinUser","JSON","parse","sessionStorage","getItem","updateUsersPoints","IsDrawing","Error","_saveLocalUser","removeItem","_updateUserPoints","userToUpdate","setItem","stringify","gameService","getGame","getLastGames","createNewGame","finishGame","addUserToGame","updateGame","finishRound","startNextRound","gameId","newGame","_getNewGame","finishedGame","_getFinishedGame","updatedGame","_addUserToGame","isVictory","_updatePoints","newRound","_getNewRound","push","level","guessingWord","_getLevelPoints","time","userGuessingId","currGame","socketService","socket","setup","io","cb","off","removeAllListeners","terminate","createSocketService","loadGame","dispatch","historyPush","canvasService","initContext","canvas","context","getContext","lineCap","strokeStyle","lineWidth","fillStyle","fillRect","width","height","startDrawing","ev","_getEvPos","x","y","beginPath","moveTo","finishDrawing","closePath","draw","lineTo","stroke","toDataURL","getImgUrl","pos","includes","changedTouches","pageX","pageY","offsetLeft","offsetTop","clientLeft","clientTop","nativeEvent","offsetX","offsetY","CountDown","props","useState","minsRemaining","setMinsRemainig","secsRemaining","setsecsRemaining","intervalId","useRef","useEffect","current","setInterval","countDown","checkIfTimeOver","Date","targetTime","now","clearInterval","msRemainig","getFullDigits","getMinutes","getSeconds","ms","dueFunc","remainingTime","Draw","gameModule","useDispatch","setIsDrawing","canvasRef","contextRef","initCanvas","imgUrl","updateDraw","ref","onTouchStart","onTouchMove","onTouchEnd","onMouseDown","onMouseMove","onMouseUp","WordToLines","split","map","letter","join","Guess","initialFields","fields","setFields","handleChange","field","name","checked","prevFields","useForm","guess","setGuess","onTimeOver","onGuess","preventDefault","checkVictory","err","RegExp","test","onSubmit","onChange","required","autoFocus","DrawGuess","wordService","getWords","getLevels","SelectPreview","display","setChosenValue","getActiveClass","SelectList","displays","ChooseWord","setLevel","words","setWords","setWord","levels","setLevels","loadWordsByLevel","wordsToShow","loadLevels","levelsToShow","onStartNextRound","Waiting","waiting","WaitingChoose","onLogin","onLogout","Invite","UserPreview","setSelectedUser","UserList","users","Login","setUsers","selectedUser","usersToShow","filter","onStart","InviteLogin","GamePreview","round","GameList","games","idx","routes","path","component","match","history","quitGame","onFinishGame","exact","render","lastGames","setLastGames","getBestUsers","getLastGame","gamesToShow","to","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","INITIAL_STATE","initialState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","action","newState","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.650f22ac.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/github-logo.27e6971f.png\";","import gitHubLogo from '../assets/imgs/github-logo.png';\r\n\r\nexport function AppFotter() {\r\n    return (\r\n        <footer className=\"main-footer full\">\r\n            <div className=\"footer-logo flex direction-col align-center\">\r\n                <p>&copy; Draw & Guess by Michael Uzan</p>\r\n                <img src=\"data:image/png;base64,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\" />\r\n            </div>\r\n            <div className=\"footer-desc\">\r\n                <ul className=\"social-links clean-list flex direction-row justify-center\">\r\n                    <li>\r\n                        <a target=\"_blank\" href=\"https://github.com/Michael-Uzan/draw-guess\">\r\n                            <p>See Code on GitHub Here: </p>\r\n                            <img src={gitHubLogo} />\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </footer>\r\n    );\r\n}","export const AppHeader = () => {\r\n    return (\r\n        <header className=\"full flex space-between align-center\">\r\n            <img className=\"logo\" src=\"data:image/png;base64,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\" />\r\n            <img className=\"title\" src=\"https://drawandguess.com/wp-content/uploads/2021/10/websitelogo2.png\" />\r\n        </header>\r\n    )\r\n}\r\n","export const eventBusService = {\n    on,\n    emit,\n    showSuccessMsg,\n    showErrorMsg\n};\n\ndeclare global {\n    interface Window { myBus: any, showUserMsg: any }\n}\n\nfunction on(eventName: string, listener: any) {\n\n    const callListener = ({ detail }: any) => {\n        listener(detail);\n    };\n\n    window.addEventListener(eventName, callListener);\n\n    return () => {\n        window.removeEventListener(eventName, callListener);\n    };\n}\n\nfunction emit(eventName: string, data: any) {\n    window.dispatchEvent(new CustomEvent(eventName, { detail: data }));\n}\n\n\nexport function showUserMsg(txt: string, type: string = '') {\n    eventBusService.emit('show-user-msg', { txt, type })\n}\nexport function showSuccessMsg(txt: string) {\n    showUserMsg(txt, 'success')\n}\nexport function showErrorMsg(txt: string) {\n    showUserMsg(txt, 'danger')\n}\n\nwindow.myBus = eventBusService;\nwindow.showUserMsg = showUserMsg;\n\n\n\n","import React from 'react'\n\nimport { eventBusService } from '../services/event-bus.service'\n\n\nexport class UserMsg extends React.Component {\n\n  removeEvent: any;\n\n  state: any | null = {\n    msg: null\n  }\n\n  componentDidMount() {\n    this.removeEvent = eventBusService.on('show-user-msg', (msg: string) => {\n      this.setState({ msg })\n      setTimeout(() => {\n        this.setState({ msg: null })\n      }, 2500)\n    })\n  }\n\n  componentWillUnmount() {\n    this.removeEvent()\n  }\n\n  render() {\n    if (!this.state.msg) return <></>\n    const msgType = this.state.msg.type || ''\n    return (\n      <section className={`user-msg  flex direction-row align-center ${msgType}`}>\n        <div className=\" txt-msg flex direction-row align-center\">\n          {this.state.msg.txt}\n        </div>\n        <button onClick={() => {\n          this.setState({ msg: null })\n        }}>x</button>\n      </section>\n    )\n  }\n}\n","import IUser from '../interface/IUser.interfacets'\r\n\r\ninterface PropType {\r\n    user: IUser | null\r\n}\r\n\r\nexport const Avatar = ({ user }: PropType) => {\r\n\r\n    if (!user) return (\r\n        <section className=\"avatar flex direction-col align-center\">\r\n            <img className=\"avatar-img\" src=\"https://thumbs.dreamstime.com/b/sticker-cartoon-question-mark-creative-illustrated-149241670.jpg\" />\r\n            <h3>who is it?</h3>\r\n            <div className=\"points flex direction-row align-center\">\r\n                <h4>0</h4>\r\n                <img className=\"img-coin\" src=\"https://static.vecteezy.com/system/resources/previews/002/297/996/non_2x/gold-coin-money-one-coin-lucky-coin-cartoon-style-free-vector.jpg\" />\r\n            </div>\r\n        </section>\r\n    )\r\n\r\n    return (\r\n        <section className=\"avatar flex direction-col align-center\">\r\n            <img className=\"avatar-img\" src={user.img} />\r\n            <h3>{user.username}</h3>\r\n            <div className=\"points flex direction-row align-center\">\r\n                <h4>{user.points}</h4>\r\n                <img className=\"img-coin\" src=\"https://static.vecteezy.com/system/resources/previews/002/297/996/non_2x/gold-coin-money-one-coin-lucky-coin-cartoon-style-free-vector.jpg\" />\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n","import { useSelector } from 'react-redux'\r\nimport IGame from '../interface/IGame.interfacets'\r\nimport { RootState } from '../store'\r\nimport { UserState } from '../store/reducers/userReducer'\r\nimport { Avatar } from './Avatar'\r\n\r\ninterface PropType {\r\n    game: IGame\r\n}\r\n\r\nexport const GameSummary = ({ game }: PropType) => {\r\n\r\n    const { loggedinUser }: UserState = useSelector((state: RootState) => state.userModule)\r\n\r\n    const getRound = (): number => {\r\n        return game.rounds.length\r\n    }\r\n\r\n    const getStatus = (userId: string): string => {\r\n        const roundIdx: number = getRound() - 1\r\n        const isDrawing: boolean = (userId === game.rounds[roundIdx].userDrawingId)\r\n        if (loggedinUser?._id === userId) {\r\n            switch (game.status) {\r\n                case 'invite-login':\r\n                    if (isDrawing) return 'Me invite'\r\n                    else return 'Me login'\r\n                case 'waiting-choose':\r\n                    if (isDrawing) return 'Me choose'\r\n                    else return 'Me waiting'\r\n                case 'draw-guess':\r\n                    if (isDrawing) return 'Me drawing'\r\n                    else return 'Me guesing'\r\n                default:\r\n                    return ''\r\n            }\r\n        }\r\n        else return ''\r\n    }\r\n\r\n    return (\r\n        <section className=\"game-summary tac\">\r\n            <h1 className=\"title\">Round {getRound()}</h1>\r\n            <div className=\" flex space-between align-center\">\r\n                <div>\r\n                    <Avatar user={game.user1} />\r\n                    <h6>{getStatus(game?.user1?._id as string)}</h6>\r\n                </div>\r\n                <img className=\"img-vs\" src=\"https://www.nicepng.com/png/full/271-2712237_vs-rooster-teeth.png\" />\r\n                <div>\r\n                    <Avatar user={game.user2} />\r\n                    <h6>{getStatus(game?.user2?._id as string)}</h6>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bars-loader.5e6163cb.svg\";","import Loader from '../assets/imgs/bars-loader.svg';\n\nexport function Loading() {\n    return (\n        <div className=\"loader flex align-center justify-center\">\n            <img src={Loader} alt=\"loading...\" />\n        </div>\n    )\n}\n","import { eventBusService } from \"./event-bus.service\"\r\n\r\nexport const utilService = {\r\n    makeId,\r\n    getCapitalDisplay,\r\n    copyToClipboard,\r\n    showUpdateMassage,\r\n    sortByValue\r\n}\r\n\r\nfunction makeId(length: number = 15): string {\r\n    let txt = ''\r\n    const possible = '0123456789abcdefghijclmnoartxyz'\r\n    for (let i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return txt\r\n}\r\n\r\nfunction getCapitalDisplay(word: string): string {\r\n    return (word.charAt(0).toUpperCase() + word.slice(1));\r\n}\r\n\r\nfunction copyToClipboard(link: string): void {\r\n    navigator.clipboard.writeText(link);\r\n    eventBusService.showSuccessMsg('Link copied!')\r\n}\r\n\r\nfunction showUpdateMassage(route: string): void {\r\n    switch (route) {\r\n        case 'waiting-choose':\r\n            eventBusService.showSuccessMsg('Next round!')\r\n            break;\r\n        case 'draw-guess':\r\n            eventBusService.showSuccessMsg('Lets Start!')\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nfunction sortByValue(array: any[], value: string) {\r\n    return array.sort((a, b) => (b[value] - a[value]))\r\n}","import Axios from 'axios'\r\nimport { eventBusService } from './event-bus.service'\r\n\r\nconst BASE_URL: string = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint: string, data: any = null) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint: string, data: any) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint: string, data: any) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint: string, data: any) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint: string, method: any = 'GET', data: any | null = null): Promise<any> {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err: any) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/')\r\n            eventBusService.showErrorMsg('Error!!')\r\n        }\r\n        throw err\r\n    }\r\n}\r\n\r\n","import IGame from '../interface/IGame.interfacets'\r\nimport IUser from '../interface/IUser.interfacets'\r\nimport { httpService } from './http.service'\r\n\r\nconst STORAGE_KEY_LOGGEDIN_USER: string = 'loggedinUser'\r\n\r\n// const USER_DB: string = 'userDB'  // FOR DEVELOPING FRONTEND REASONS WORKING ON ASYNC LOCAL STORAGE\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    getUsers,\r\n    getLoggedinUser,\r\n    updateUsersPoints,\r\n    IsDrawing\r\n}\r\n\r\nasync function login(userId: String): Promise<IUser> {\r\n    const user: IUser = await httpService.post('auth/login', { userId })\r\n    if (!user) {\r\n        throw new Error('login service error')\r\n    }\r\n    return _saveLocalUser(user)\r\n\r\n    // const user: IUser = await storageService.get(userId, USER_DB)\r\n}\r\n\r\nasync function logout(): Promise<void> {\r\n    sessionStorage.removeItem(STORAGE_KEY_LOGGEDIN_USER)\r\n    return await httpService.post('auth/logout', null)\r\n}\r\n\r\nasync function getUsers() {\r\n    return httpService.get('user')\r\n\r\n    // const users: IUser[] = await storageService.query(USER_DB)\r\n    // return users\r\n}\r\n\r\nfunction getLoggedinUser(): IUser | null {\r\n    return JSON.parse(sessionStorage.getItem(STORAGE_KEY_LOGGEDIN_USER) || 'null')\r\n}\r\n\r\nasync function updateUsersPoints(game: IGame) {\r\n    _updateUserPoints(game.user1 as IUser, game.user1?.points as number)\r\n    _updateUserPoints(game.user2 as IUser, game.user2?.points as number)\r\n}\r\n\r\nasync function _updateUserPoints(userToUpdate: IUser, points: number) {\r\n    const user: IUser = await httpService.get(`user/${userToUpdate._id}`)\r\n    user.points += points\r\n    return httpService.put(`user/${user._id}`, { user })\r\n}\r\n\r\nfunction IsDrawing(game: IGame, roundIdx: number, loggedinUser: IUser): boolean {\r\n    return (game.rounds[roundIdx].userDrawingId === loggedinUser?._id)\r\n}\r\n\r\nfunction _saveLocalUser(user: IUser): IUser {\r\n    sessionStorage.setItem(STORAGE_KEY_LOGGEDIN_USER, JSON.stringify(user))\r\n    return user\r\n}","import IGame from '../interface/IGame.interfacets';\r\nimport IRound from '../interface/IRound.interface';\r\nimport IUser from '../interface/IUser.interfacets';\r\nimport { httpService } from './http.service';\r\nimport { userService } from './user.service';\r\n\r\nexport const gameService = {\r\n    getGame,\r\n    getLastGames,\r\n    createNewGame,\r\n    finishGame,\r\n    addUserToGame,\r\n    updateGame,\r\n    finishRound,\r\n    startNextRound\r\n}\r\n\r\n// const GAME_DB: string = 'gameDB'; // FOR DEVELOPING FRONTEND REASONS WORKING ON ASYNC LOCAL STORAGE\r\n\r\nasync function getGame(gameId: string): Promise<any> {\r\n    return httpService.get(`game/${gameId}`)\r\n\r\n    // const game = await storageService.get(gameId, GAME_DB)\r\n    // return game\r\n}\r\n\r\nasync function getLastGames(status: string): Promise<IGame> {\r\n    return httpService.get('game', { status })\r\n}\r\n\r\nasync function createNewGame(user: IUser) {\r\n    const newGame: IGame = _getNewGame(user)\r\n    return updateGame(newGame)\r\n\r\n    // const res = await storageService.post(newGame, GAME_DB)\r\n    // return res\r\n}\r\n\r\nasync function finishGame(game: IGame) {\r\n    const finishedGame: IGame = _getFinishedGame(game)\r\n    await userService.updateUsersPoints(game)\r\n    return updateGame(finishedGame)\r\n}\r\n\r\nasync function addUserToGame(game: IGame, user: IUser) {\r\n    const updatedGame: IGame = _addUserToGame(game, user)\r\n    return updateGame(updatedGame)\r\n\r\n    // const res = await storageService.post(game, GAME_DB)\r\n    // return res\r\n}\r\n\r\nasync function updateGame(game: IGame): Promise<any> {\r\n    return httpService.post(`game/`, { game })\r\n\r\n    // const game = await storageService.put(newGame, GAME_DB)\r\n    // return game\r\n}\r\n\r\nasync function finishRound(game: IGame, roundIdx: number, isVictory: boolean) {\r\n    game = _updatePoints(game, roundIdx, isVictory)\r\n    const newRound = _getNewRound(game, roundIdx)\r\n    game.rounds.push(newRound)\r\n    return updateGame(game)\r\n\r\n    // const newGame = await storageService.put(game, GAME_DB)\r\n    // return newGame\r\n}\r\n\r\nasync function startNextRound(game: IGame, roundIdx: number, level: string, guessingWord: string) {\r\n    game.rounds[roundIdx].guessingWord = guessingWord\r\n    game.rounds[roundIdx].level = _getLevelPoints(level)\r\n    game.status = 'draw-guess'\r\n    return updateGame(game)\r\n\r\n    // const newGame = await storageService.put(game, GAME_DB)\r\n    // return newGame\r\n}\r\n\r\nfunction _getNewGame(user: IUser): IGame {\r\n    user.points = 0\r\n    return {\r\n        status: 'invite-login',\r\n        user1: user,\r\n        user2: null,\r\n        rounds: [\r\n            {\r\n                img: '',\r\n                guessingWord: '',\r\n                level: 1,\r\n                time: 0,\r\n                userGuessingId: '',\r\n                userDrawingId: user._id as string\r\n            },\r\n        ]\r\n    }\r\n}\r\n\r\nfunction _getFinishedGame(game: IGame) {\r\n    game.status = 'finish'\r\n    return game\r\n}\r\n\r\nfunction _addUserToGame(game: IGame, user: IUser) {\r\n    user.points = 0\r\n    game.user2 = user\r\n    game.status = 'waiting-choose'\r\n    game.rounds[0].userGuessingId = user._id as string\r\n    return game\r\n}\r\n\r\nfunction _getNewRound(game: IGame, roundIdx: number): IRound {\r\n    return {\r\n        guessingWord: '',\r\n        img: '../../assets/imgs/initCanvas.jpg',\r\n        level: 1,\r\n        time: 0,\r\n        userDrawingId: game.rounds[roundIdx].userGuessingId, // Switch user positions\r\n        userGuessingId: game.rounds[roundIdx].userDrawingId // Switch user positions\r\n    }\r\n}\r\n\r\nfunction _updatePoints(game: IGame, roundIdx: number, isVictory: boolean) {\r\n    game.status = 'waiting-choose'\r\n    if (!isVictory) return game\r\n    const currGame: IRound = game.rounds[roundIdx]\r\n    const points: number = currGame.level\r\n    if (currGame.userGuessingId === game.user1?._id) game.user1.points += points\r\n    else game.user2 ? (game.user2.points += points) : (game.user2 = game.user2) // Typescript Error :(\r\n    return game\r\n}\r\n\r\nfunction _getLevelPoints(level: string): number {\r\n    switch (level) {\r\n        case 'medium':\r\n            return 3\r\n        case 'hard':\r\n            return 5\r\n        default:\r\n            return 1\r\n    }\r\n}\r\n\r\n\r\n","import { DefaultEventsMap } from '@socket.io/component-emitter';\r\nimport io, { Socket } from 'socket.io-client';\r\n\r\nconst baseUrl: string = (process.env.NODE_ENV === 'production') ? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n\r\nfunction createSocketService() {\r\n    var socket: Socket<DefaultEventsMap, DefaultEventsMap> | null;\r\n    const socketService = {\r\n        setup() {\r\n            socket = io(baseUrl)\r\n        },\r\n        on(eventName: string, cb: Function | any) {\r\n            socket?.on(eventName, cb)\r\n        },\r\n        off(eventName: string, cb: Function | any = null) {\r\n            if (!socket) return;\r\n            if (!cb) socket.removeAllListeners(eventName)\r\n            else socket.off(eventName, cb)\r\n        },\r\n        emit(eventName: string, data: any = null) {\r\n            socket?.emit(eventName, data)\r\n        },\r\n        terminate() {\r\n            socket = null\r\n        }\r\n    }\r\n    return socketService\r\n}","import IGame from \"../../interface/IGame.interfacets\";\nimport IUser from \"../../interface/IUser.interfacets\";\nimport { eventBusService } from \"../../services/event-bus.service\";\nimport { gameService } from \"../../services/game.service\";\nimport { socketService } from \"../../services/socket.service\";\n\nexport function loadGame(gameId: string) {\n  return async (dispatch: Function) => {\n    try {\n      const game = await gameService.getGame(gameId)\n      dispatch({ type: 'SET_GAME', game })\n    } catch (err) {\n      console.log('canot load game ', err);\n      eventBusService.showErrorMsg('Cannot load game!')\n      window.location.assign('/')\n    }\n  }\n}\n\nexport function createNewGame(user: IUser, historyPush: Function) {\n  return async (dispatch: Function) => {\n    try {\n      const game = await gameService.createNewGame(user)\n      dispatch({ type: 'SET_GAME', game })\n      historyPush(`/game/${game._id}/invite-login`)\n      return game\n    } catch (err) {\n      console.log('cannot start a new game', err)\n      eventBusService.showErrorMsg('Cannot create game!')\n    }\n  }\n}\n\nexport function finishGame(game: IGame) {\n  return async (dispatch: Function) => {\n    try {\n      await gameService.finishGame(game)\n      dispatch({ type: 'SET_GAME', game: null })\n      socketService.emit('game-finish')\n    } catch (err) {\n      console.log('cannot finish game', err)\n      eventBusService.showErrorMsg('Cannot finish game!')\n    }\n  }\n}\n\nexport function resetGame() { // IF OTHER PLAYER END THE GAME\n  return (dispatch: Function) => {\n    dispatch({ type: 'SET_GAME', game: null })\n  }\n}\n\nexport function addUserToGame(game: IGame, user: IUser) {\n  return async (dispatch: Function) => {\n    try {\n      const updatedGame = await gameService.addUserToGame(game, user)\n      dispatch({ type: 'SET_GAME', game: updatedGame })\n      socketService.emit('route-change', 'waiting-choose')\n    } catch (err) {\n      console.log('cannot add user to game', err)\n      eventBusService.showErrorMsg('Cannot add start game!')\n    }\n  }\n}\n\nexport function updateDraw(newGame: IGame, imgUrl: string, roundIdx: number) {\n  return async (dispatch: Function) => {\n    try {\n      newGame.rounds[roundIdx].img = imgUrl\n      const game = await gameService.updateGame(newGame)\n      socketService.emit('update-draw')\n      dispatch({ type: 'SET_GAME', game })\n    } catch (err) {\n      console.log('canot update draw ', err)\n      eventBusService.showErrorMsg('Error update draw!')\n    }\n  }\n}\n\nexport function finishRound(game: IGame, roundIdx: number, isVictory: boolean) {\n  return async (dispatch: Function) => {\n    try {\n      const finishedGame = await gameService.finishRound(game, roundIdx, isVictory)\n      socketService.emit('route-change', 'waiting-choose')\n      dispatch({ type: 'SET_GAME', game: finishedGame })\n    } catch (err) {\n      console.log('cannot finish game', err)\n      eventBusService.showErrorMsg('Error finish round!')\n    }\n  }\n}\n\nexport function startNextRound(game: IGame, roundIdx: number, level: string, guessingWord: string) {\n  return async (dispatch: Function) => {\n    try {\n      const updatedGame = await gameService.startNextRound(game, roundIdx, level, guessingWord)\n      dispatch({ type: 'SET_GAME', game: updatedGame })\n      socketService.emit('route-change', 'draw-guess')\n    } catch (err) {\n      console.log('cannot start next round ', err)\n      eventBusService.showErrorMsg('Error start a new round!')\n    }\n  }\n}\n","import IPosition from \"../interface/IPosition.interface\";\r\n\r\nexport const canvasService = {\r\n    initContext,\r\n    startDrawing,\r\n    finishDrawing,\r\n    draw,\r\n    getImgUrl\r\n}\r\n\r\nfunction initContext(canvas: HTMLCanvasElement): CanvasRenderingContext2D {\r\n    const context = canvas.getContext(\"2d\") as CanvasRenderingContext2D\r\n    context.lineCap = \"round\";\r\n    context.strokeStyle = \"black\";\r\n    context.lineWidth = 1;\r\n    context.fillStyle = \"white\";\r\n    context.fillRect(0, 0, canvas.width, canvas.height);\r\n    return context\r\n}\r\n\r\nfunction startDrawing(ev: MouseEvent | TouchEvent, context: CanvasRenderingContext2D): void {\r\n    const { x, y }: IPosition = _getEvPos(ev)\r\n    context.beginPath();\r\n    context.moveTo(x, y);\r\n}\r\n\r\nfunction draw(ev: MouseEvent | TouchEvent, context: CanvasRenderingContext2D, canvas: HTMLCanvasElement): string {\r\n    const { x, y }: IPosition = _getEvPos(ev)\r\n    context.lineTo(x, y);\r\n    context.stroke();\r\n    return canvas.toDataURL('image/jpeg', 1.0)\r\n}\r\n\r\nfunction finishDrawing(context: CanvasRenderingContext2D): void {\r\n    context.closePath();\r\n}\r\n\r\nfunction getImgUrl(canvas: HTMLCanvasElement): string {\r\n    return canvas.toDataURL('image/jpeg', 1.0)\r\n}\r\n\r\nfunction _getEvPos(ev: MouseEvent | TouchEvent | any): IPosition {\r\n    const touchEvents: string[] = ['touchstart', 'touchmove', 'touchend'];\r\n    let pos: IPosition\r\n    if (touchEvents.includes(ev.type)) {\r\n        // ev.preventDefault()\r\n        const { pageX, pageY } = ev.changedTouches[0]\r\n        const { offsetLeft, offsetTop, clientLeft, clientTop } = ev.changedTouches[0].target\r\n        pos = {\r\n            x: pageX - offsetLeft - clientLeft,\r\n            y: pageY - offsetTop - clientTop\r\n        }\r\n    } else {\r\n        pos = {\r\n            x: ev.nativeEvent.offsetX,\r\n            y: ev.nativeEvent.offsetY\r\n        }\r\n    }\r\n    return pos\r\n}\r\n","import { useState, useEffect, useRef } from \"react\";\r\n\r\ninterface PropType {\r\n  targetTime: Date | number | any,\r\n  dueFunc: Function\r\n}\r\n\r\nexport const CountDown = (props: PropType) => {\r\n  const [minsRemaining, setMinsRemainig] = useState<number | string>(0);\r\n  const [secsRemaining, setsecsRemaining] = useState<number | string>(0);\r\n  const intervalId: React.MutableRefObject<NodeJS.Timeout | undefined> = useRef();\r\n\r\n  useEffect(() => {\r\n    intervalId.current = setInterval(() => {\r\n      countDown();\r\n      checkIfTimeOver(new Date(props.targetTime - Date.now()));\r\n    }, 500);\r\n    return () => {\r\n      clearInterval(intervalId.current as NodeJS.Timeout);\r\n    };\r\n  }, []);\r\n\r\n  const countDown = () => {\r\n    const msRemainig: Date = new Date(props.targetTime - Date.now());\r\n    const minsRemaining: number | string = getFullDigits(msRemainig.getMinutes());\r\n    const secsRemaining: number | string = getFullDigits(msRemainig.getSeconds());\r\n\r\n    setMinsRemainig(minsRemaining);\r\n    setsecsRemaining(secsRemaining);\r\n  };\r\n\r\n  const checkIfTimeOver = (ms: number | Date) => {\r\n    if (ms <= 500) {\r\n      clearInterval(intervalId.current as NodeJS.Timeout);\r\n      props.dueFunc();\r\n    }\r\n  };\r\n\r\n  const getFullDigits = (remainingTime: number) => {\r\n    return remainingTime >= 10 ? remainingTime : \"0\" + remainingTime;\r\n  };\r\n\r\n  if (!minsRemaining || !secsRemaining) return <></>\r\n\r\n  return (\r\n    <div className=\"count-down\">\r\n      <div className=\"count-down-box\">\r\n        <h3>\r\n          {minsRemaining}:\r\n          <span className={(secsRemaining <= 20 && minsRemaining < 1) ? \"red\" : \"\"}>\r\n            {secsRemaining}\r\n          </span>\r\n        </h3>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { updateDraw } from '../store/actions/gameActions';\r\nimport { canvasService } from '../services/canvas.service';\r\nimport { RootState } from '../store';\r\nimport IGame from '../interface/IGame.interfacets';\r\nimport { CountDown } from './CountDown';\r\n\r\nexport const Draw = () => {\r\n\r\n    const { game, roundIdx } = useSelector((state: RootState) => state.gameModule)\r\n    const dispatch = useDispatch()\r\n    const [isDrawing, setIsDrawing] = useState<boolean>(false);\r\n    const canvasRef = useRef<HTMLCanvasElement | null>(null)\r\n    const contextRef = useRef<CanvasRenderingContext2D | null>(null)\r\n\r\n    useEffect(() => {\r\n        initCanvas()\r\n    }, [])\r\n\r\n    const initCanvas = () => {\r\n        const canvas = canvasRef.current as HTMLCanvasElement\r\n        canvas.width = 350\r\n        canvas.height = 175\r\n        contextRef.current = canvasService.initContext(canvas)\r\n    }\r\n\r\n    const startDrawing = (ev: MouseEvent | TouchEvent | any): void => {\r\n        canvasService.startDrawing(ev, contextRef.current as CanvasRenderingContext2D)\r\n        setIsDrawing(true);\r\n    }\r\n\r\n    const draw = (ev: MouseEvent | TouchEvent | any): void => {\r\n        if (!isDrawing) return;\r\n        canvasService.draw(ev, contextRef.current as CanvasRenderingContext2D, canvasRef.current as HTMLCanvasElement)\r\n        /////////////////////////////////////////////////////////////////////////////////////\r\n        // when I try to send Socket vor every pixel of drawing, the socket crush :(\r\n        // so I end a soket to update draw just when player finish draw a line (finishDrawing)\r\n        // \r\n        // const imgUrl = canvasService.draw(ev, contextRef.current as CanvasRenderingContext2D, canvasRef.current as HTMLCanvasElement)\r\n        // dispatch(updateDraw(game as IGame, imgUrl, roundIdx))\r\n        /////////////////////////////////////////////////////////////////////////////////////\r\n    }\r\n\r\n    const finishDrawing = (): void => {\r\n        canvasService.finishDrawing(contextRef.current as CanvasRenderingContext2D)\r\n        const imgUrl = canvasService.getImgUrl(canvasRef?.current as HTMLCanvasElement)\r\n        dispatch(updateDraw(game as IGame, imgUrl, roundIdx)) // send Socket to update the draw\r\n        setIsDrawing(false);\r\n    }\r\n\r\n    return (\r\n        <section className=\"draw tac\">\r\n            <CountDown targetTime={Date.now() + 1000 * 70} dueFunc={() => { }} />\r\n            <h1>{game?.rounds[roundIdx].guessingWord}</h1>\r\n            <div className=\"canvas-container\">\r\n                <canvas\r\n                    ref={canvasRef}\r\n                    onTouchStart={startDrawing}\r\n                    onTouchMove={draw}\r\n                    onTouchEnd={finishDrawing}\r\n                    onMouseDown={startDrawing}\r\n                    onMouseMove={draw}\r\n                    onMouseUp={finishDrawing}\r\n                />\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n","interface PropType {\r\n    word: string | null | undefined\r\n}\r\n\r\nexport const WordToLines = ({ word }: PropType) => {\r\n\r\n    const getLines = () => {\r\n        return word ? word.split('').map((letter: string) => '_ ').join('') : ''\r\n    }\r\n\r\n    return (\r\n        <section className=\"word-to-lines flex align-center direction-col\">\r\n            {getLines()}\r\n        </section>\r\n    )\r\n}\r\n","import React, { FormEvent } from 'react'\r\nimport { WordToLines } from './WordToLines'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useForm } from '../hooks/useForm';\r\nimport { finishRound } from '../store/actions/gameActions';\r\nimport { eventBusService } from '../services/event-bus.service';\r\nimport { RootState } from '../store';\r\nimport { GameState } from '../store/reducers/gameReducer';\r\nimport IGame from '../interface/IGame.interfacets';\r\nimport { CountDown } from './CountDown';\r\n\r\ninterface PropType {\r\n    historyPush: Function\r\n}\r\n\r\nexport const Guess = ({ historyPush }: PropType) => {\r\n\r\n    const { game, roundIdx }: GameState = useSelector((state: RootState) => state.gameModule)\r\n    const dispatch = useDispatch()\r\n    const [guess, handleChange, setGuess] = useForm({\r\n        guessingWord: ''\r\n    })\r\n\r\n    const onTimeOver = async () => {\r\n        eventBusService.showErrorMsg('Time is up!')\r\n        const isVictory: boolean = false\r\n        await dispatch(finishRound(game as IGame, roundIdx, isVictory))\r\n        historyPush(`waiting-choose`)\r\n    }\r\n\r\n    const onGuess = async (ev: FormEvent<HTMLFormElement> | null = null) => {\r\n        try {\r\n            if (ev) ev.preventDefault();\r\n            if (checkVictory()) {\r\n                eventBusService.showSuccessMsg('Correct! You earn ' + game?.rounds[roundIdx].level + ' points!')\r\n                const isVictory: boolean = true\r\n                dispatch(finishRound(game as IGame, roundIdx, isVictory))\r\n                historyPush(`waiting-choose`)\r\n            } else {\r\n                setGuess({ guessingWord: '' })\r\n                eventBusService.showErrorMsg('Worng guess!')\r\n            }\r\n        } catch (err) {\r\n            console.log('cannot guess', err)\r\n        }\r\n    }\r\n\r\n    const checkVictory = (): boolean => {\r\n        const regex: RegExp = new RegExp(guess.guessingWord, 'i')\r\n        return regex.test(game?.rounds[roundIdx].guessingWord as string)\r\n    }\r\n\r\n    return (\r\n        <section className=\"guess tac\">\r\n            <CountDown targetTime={Date.now() + 1000 * 70} dueFunc={onTimeOver} />\r\n            <WordToLines word={game?.rounds[roundIdx].guessingWord} />\r\n            <img src={game?.rounds[roundIdx].img} />\r\n            <form onSubmit={onGuess} >\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"guessingWord\"\r\n                    value={guess.guessingWord}\r\n                    onChange={handleChange}\r\n                    required\r\n                    autoFocus\r\n                />\r\n                <button>Guess!</button>\r\n            </form>\r\n        </section>\r\n    )\r\n}\r\n","import { useEffect, useState } from \"react\"\r\n\r\nexport const useForm = (initialFields: any, cb: Function = () => { }) => {\r\n\r\n    const [fields, setFields] = useState(initialFields)\r\n\r\n    useEffect(() => {\r\n        cb(fields)\r\n    }, [fields])\r\n\r\n    const handleChange = ({ target }: any) => {\r\n        const field: string = target.name\r\n        let value: boolean | number | string;\r\n        switch (target.type) {\r\n            case \"number\":\r\n                value = +target.value\r\n                break\r\n            case \"checkbox\":\r\n                value = target.checked\r\n                break\r\n            default:\r\n                value = target.value\r\n                break;\r\n        }\r\n        setFields((prevFields: any) => ({ ...prevFields, [field]: value }))\r\n    }\r\n\r\n    return [\r\n        fields,\r\n        handleChange,\r\n        setFields\r\n    ]\r\n}","import { Draw } from '../cmp/Draw'\r\nimport { Guess } from '../cmp/Guess';\r\nimport IUser from '../interface/IUser.interfacets';\r\nimport { userService } from '../services/user.service'\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../store';\r\nimport { GameState } from '../store/reducers/gameReducer';\r\nimport { UserState } from '../store/reducers/userReducer';\r\nimport IGame from '../interface/IGame.interfacets';\r\n\r\ninterface PropType {\r\n    historyPush: Function\r\n}\r\n\r\n\r\nexport const DrawGuess = ({ historyPush }: PropType) => {\r\n\r\n    const { game, roundIdx }: GameState = useSelector((state: RootState) => state.gameModule)\r\n    const { loggedinUser }: UserState = useSelector((state: RootState) => state.userModule)\r\n\r\n    return (\r\n        <section className=\"draw-guess\">\r\n            {userService.IsDrawing(game as IGame, roundIdx, loggedinUser as IUser) ? <Draw /> : <Guess historyPush={historyPush} />}\r\n        </section>\r\n    )\r\n}\r\n","import { httpService } from \"./http.service\"\r\n\r\nexport const wordService = {\r\n    getWords,\r\n    getLevels\r\n}\r\n\r\nfunction getWords(level: string): Promise<string[]> {\r\n    return httpService.get(`word/${level}`)\r\n}\r\n\r\nfunction getLevels(): Promise<string[]> {\r\n    return httpService.get('word/levels')\r\n}","import { utilService } from \"../services/util.service\";\r\n\r\nexport const SelectPreview = ({ value, display, setChosenValue }: PropType) => {\r\n\r\n    const getActiveClass = (display: string): string => {\r\n        return (value === display) ? 'active' : ''\r\n    }\r\n\r\n    return (\r\n        <div className={getActiveClass(display)} onClick={() => setChosenValue(display)}>{utilService.getCapitalDisplay(display)}</div>\r\n    )\r\n}\r\n\r\ninterface PropType {\r\n    value: string,\r\n    display: string,\r\n    setChosenValue: Function\r\n}\r\n","import { SelectPreview } from \"./SelectPreview\"\r\n\r\ninterface PropType {\r\n    setChosenValue: Function,\r\n    value: string,\r\n    displays: string[]\r\n}\r\n\r\nexport const SelectList = ({ setChosenValue, value, displays }: PropType) => {\r\n\r\n    return (\r\n        <section className=\"selectList flex space-around\">\r\n            {displays.map((display: string) => (<SelectPreview key={display} value={value} display={display} setChosenValue={setChosenValue} />))}\r\n        </section>\r\n    )\r\n}\r\n\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { eventBusService } from '../services/event-bus.service';\r\nimport { utilService } from '../services/util.service';\r\nimport { wordService } from '../services/word.service'\r\nimport { RootState } from '../store';\r\nimport { startNextRound } from '../store/actions/gameActions';\r\nimport { GameState } from '../store/reducers/gameReducer';\r\nimport { Loading } from './Loading';\r\nimport { SelectList } from './SelectList';\r\n\r\ninterface PropType {\r\n    historyPush: Function\r\n}\r\n\r\nexport const ChooseWord = ({ historyPush }: PropType) => {\r\n    const dispatch = useDispatch()\r\n    const { game, roundIdx }: GameState = useSelector((state: RootState) => state.gameModule)\r\n\r\n    const [level, setLevel] = useState<string>('easy');\r\n    const [words, setWords] = useState<string[] | null>(null);\r\n    const [word, setWord] = useState<string>('');\r\n    const [levels, setLevels] = useState<string[] | null>(null);\r\n\r\n    useEffect(() => {\r\n        loadWordsByLevel()\r\n    }, [level])\r\n\r\n    const loadWordsByLevel = async (): Promise<void> => {\r\n        const wordsToShow: string[] = await wordService.getWords(level as string)\r\n        setWords(wordsToShow)\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadLevels()\r\n    }, [])\r\n\r\n    const loadLevels = async (): Promise<void> => {\r\n        const levelsToShow: string[] = await wordService.getLevels()\r\n        setLevels(levelsToShow)\r\n    }\r\n\r\n    const onStartNextRound = async () => {\r\n        if (!game) return\r\n        if (!word) {\r\n            eventBusService.showErrorMsg('Choose word!')\r\n            return\r\n        }\r\n        await dispatch(startNextRound(game, roundIdx, level, word))\r\n        historyPush(`draw-guess`)\r\n    }\r\n\r\n    if (!levels || !words) return <Loading />\r\n\r\n    return (\r\n        <section className=\"choose-word tac\">\r\n            <SelectList setChosenValue={setLevel} value={level} displays={levels} />\r\n            <SelectList setChosenValue={setWord} value={word} displays={words} />\r\n            <h2>Your chosen word: <span>{utilService.getCapitalDisplay(word)}</span>  </h2>\r\n            <button onClick={onStartNextRound}>Start Next Round</button>\r\n            <p>Easy 1 point <br />\r\n                Medium 3 points <br />\r\n                Hard 5 points</p>\r\n        </section>\r\n    )\r\n}\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/waiting.55d157a0.gif\";","import waiting from '../assets/imgs/waiting.gif';\r\n\r\n\r\nexport const Waiting = () => {\r\n\r\n    return (\r\n        <section className=\"waiting tac\">\r\n            <h1> Other player is choosing a word...</h1>\r\n            <img className=\"waiting-svg\" src={waiting} />\r\n        </section>\r\n    )\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { ChooseWord } from '../cmp/ChooseWord';\r\nimport { Waiting } from '../cmp/Waiting';\r\nimport IGame from '../interface/IGame.interfacets';\r\nimport IUser from '../interface/IUser.interfacets';\r\nimport { userService } from '../services/user.service';\r\nimport { RootState } from '../store';\r\nimport { GameState } from '../store/reducers/gameReducer';\r\nimport { UserState } from '../store/reducers/userReducer';\r\n\r\ninterface PropType {\r\n    historyPush: Function\r\n}\r\n\r\n\r\nexport const WaitingChoose = ({ historyPush }: PropType) => {\r\n\r\n    const { game, roundIdx }: GameState = useSelector((state: RootState) => state.gameModule)\r\n    const { loggedinUser }: UserState = useSelector((state: RootState) => state.userModule)\r\n\r\n    return (\r\n        <section className=\"waiting-choose\">\r\n            {userService.IsDrawing(game as IGame, roundIdx, loggedinUser as IUser) ? <ChooseWord historyPush={historyPush} /> : <Waiting />}\r\n        </section>\r\n    )\r\n}\r\n","import { eventBusService } from \"../../services/event-bus.service\";\nimport { userService } from \"../../services/user.service\";\n\nexport function onLogin(userId: string) {\n    return async (dispatch: Function) => {\n        try {\n            const user = await userService.login(userId)\n            dispatch({\n                type: 'SET_USER',\n                user\n            })\n            eventBusService.showSuccessMsg(`Welcome ${user.username}!`)\n            return user\n        } catch (err) {\n            console.log('Cannot login', err)\n            eventBusService.showErrorMsg('Sorry cannot Login!')\n            throw err\n        }\n    }\n}\n\nexport function onLogout() {\n    return async (dispatch: Function) => {\n        try {\n            await userService.logout()\n            dispatch({\n                type: 'SET_USER',\n                user: null\n            })\n        } catch (err) {\n            console.log('Cannot logout', err)\n            eventBusService.showErrorMsg('Sorry cannot Logout!')\n        }\n    }\n}\n","import { useSelector } from 'react-redux';\r\nimport { utilService } from '../services/util.service';\r\nimport { RootState } from '../store';\r\nimport { GameState } from '../store/reducers/gameReducer';\r\n\r\nexport const Invite = () => {\r\n\r\n    const { game }: GameState = useSelector((state: RootState) => state.gameModule)\r\n    const link: string = (process.env.NODE_ENV === 'production') ?\r\n        `https://monday-draw-guess-exam.herokuapp.com/#/game/${game?._id}/invite-login` :\r\n        `http://localhost:3000/#/game/${game?._id}/invite-login`\r\n\r\n    return (\r\n        <section className=\"invite tac\">\r\n            <h1>Invite a friend to play:</h1>\r\n            <div className=\"flex direction-col align-center\">\r\n                <button onClick={() => utilService.copyToClipboard(link)}>Copy to Cipboard</button>\r\n                <button>\r\n                    <a target=\"_blank\" href={link}>Open new window</a>\r\n                </button>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n","import IUser from \"../interface/IUser.interfacets\"\r\nimport { Avatar } from \"./Avatar\"\r\n\r\ninterface PropType {\r\n    user: IUser,\r\n    setSelectedUser: Function\r\n}\r\n\r\nexport const UserPreview = ({ user, setSelectedUser }: PropType) => {\r\n    return (\r\n        <section className=\"user-preview\" onClick={() => setSelectedUser(user)}>\r\n            <Avatar user={user} />\r\n        </section>\r\n    )\r\n}\r\n","import IUser from \"../interface/IUser.interfacets\"\r\nimport { UserPreview } from \"./UserPreview\"\r\n\r\ninterface PropType {\r\n    users: IUser[],\r\n    setSelectedUser: Function\r\n}\r\n\r\nexport const UserList = ({ users, setSelectedUser }: PropType) => {\r\n    return (\r\n        <section className=\"user-list\">\r\n            {users.map((user: IUser) => (<UserPreview key={user._id} user={user} setSelectedUser={setSelectedUser} />))}\r\n        </section>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport IUser from '../interface/IUser.interfacets';\r\nimport { eventBusService } from '../services/event-bus.service';\r\nimport { userService } from '../services/user.service'\r\nimport { RootState } from '../store';\r\nimport { addUserToGame, createNewGame } from '../store/actions/gameActions';\r\nimport { onLogin } from '../store/actions/userActions';\r\nimport { GameState } from '../store/reducers/gameReducer';\r\nimport { Loading } from './Loading';\r\nimport { UserList } from './UserList';\r\n\r\ninterface PropType {\r\n    historyPush: Function\r\n}\r\n\r\nexport const Login = ({ historyPush }: PropType) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const { game }: GameState = useSelector((state: RootState) => state.gameModule)\r\n    const [users, setUsers] = useState<null | IUser[]>(null);\r\n    const [selectedUser, setSelectedUser] = useState<IUser | null>(null);\r\n\r\n    useEffect(() => {\r\n        getUsers()\r\n    }, [])\r\n\r\n    const getUsers = async () => {\r\n        let usersToShow: IUser[] = await userService.getUsers()\r\n        usersToShow = usersToShow.filter((user: IUser) => (user._id !== game?.user1?._id))\r\n        setUsers(usersToShow)\r\n    }\r\n\r\n    const onStart = async () => {\r\n        try {\r\n            await dispatch(onLogin(selectedUser?._id as string))\r\n            if (!game) {\r\n                await dispatch(createNewGame(selectedUser as IUser, historyPush))\r\n            } else {\r\n                await dispatch(addUserToGame(game, selectedUser as IUser))\r\n                historyPush(`waiting-choose`)\r\n            }\r\n            eventBusService.showSuccessMsg('Let\\'s start!')\r\n        } catch (err) {\r\n            eventBusService.showErrorMsg('Cant login! Try again!')\r\n            console.log('cant login', err)\r\n        }\r\n    }\r\n\r\n    if (!users) return <Loading />\r\n\r\n    return (\r\n        <section className=\"login tac\">\r\n            {selectedUser ? <button onClick={onStart}>Start!</button> : <></>}\r\n            <p>Welcome! <br /> <br />\r\n                First login and then start \"Draw and Guess\" with your friend!</p>\r\n            <h1>Choose player: <span>{selectedUser?.username}</span> </h1>\r\n            <UserList users={users} setSelectedUser={setSelectedUser} />\r\n        </section>\r\n    )\r\n}\r\n","import { userService } from '../services/user.service'\r\nimport { useSelector } from 'react-redux';\r\nimport { Invite } from '../cmp/Invite';\r\nimport { Login } from '../cmp/Login';\r\nimport { RootState } from '../store';\r\nimport { GameState } from '../store/reducers/gameReducer';\r\nimport { UserState } from '../store/reducers/userReducer';\r\nimport IGame from '../interface/IGame.interfacets';\r\nimport IUser from '../interface/IUser.interfacets';\r\n\r\ninterface PropType {\r\n    historyPush: Function\r\n}\r\n\r\n\r\nexport const InviteLogin = ({ historyPush }: PropType) => {\r\n\r\n    const { game, roundIdx }: GameState = useSelector((state: RootState) => state.gameModule)\r\n    const { loggedinUser }: UserState = useSelector((state: RootState) => state.userModule)\r\n\r\n    return (\r\n        <section className=\"init-login\">\r\n            <section className=\"draw-guess\">\r\n                {userService.IsDrawing(game as IGame, roundIdx, loggedinUser as IUser) ? <Invite /> : <Login historyPush={historyPush} />}\r\n            </section>\r\n        </section>\r\n    )\r\n}\r\n","import IGame from '../interface/IGame.interfacets'\r\nimport IRound from '../interface/IRound.interface'\r\nimport { GameSummary } from './GameSummary'\r\n\r\ninterface PropType {\r\n    game: IGame\r\n}\r\n\r\nexport const GamePreview = ({ game }: PropType) => {\r\n\r\n    const round: IRound = game.rounds[0]\r\n\r\n    return (\r\n        <section className=\"game-preview\">\r\n            <GameSummary game={game} />\r\n            <img src={round?.img} />\r\n            <h2>{round?.guessingWord}</h2>\r\n        </section>\r\n    )\r\n}\r\n","import IGame from \"../interface/IGame.interfacets\"\r\nimport { GamePreview } from \"./GamePreview\"\r\n\r\ninterface PropType {\r\n    games: IGame[] | any\r\n}\r\n\r\nexport const GameList = ({ games }: PropType) => {\r\n    return (\r\n        <section className=\"game-list\">\r\n            {games.map((game: IGame, idx: number) => (idx < 3 ? <GamePreview key={game._id} game={game} /> : <></>))}\r\n        </section>\r\n    )\r\n}\r\n","import { GameApp } from \"../pages/GameApp\";\nimport { HomePage } from \"../pages/HomePage\";\nimport { StartNewGame } from \"../pages/StartNewGame\";\n\ninterface IRoutes {\n    path: string,\n    component: any\n}\n\nconst routes: IRoutes[] = [\n    {\n        path: '/game/:gameId',\n        component: GameApp,\n    },\n    {\n        path: '/game',\n        component: StartNewGame,\n    },\n    {\n        path: '/',\n        component: HomePage,\n    }\n]\n\nexport default routes;\n","import { useEffect } from 'react'\r\nimport { Route } from 'react-router-dom';\r\nimport { GameSummary } from '../cmp/GameSummary';\r\nimport { Loading } from '../cmp/Loading';\r\nimport { utilService } from '../services/util.service';\r\nimport { DrawGuess } from './DrawGuess';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { finishGame, loadGame, resetGame } from '../store/actions/gameActions'\r\nimport { WaitingChoose } from './WaitingChoose';\r\nimport { onLogout } from '../store/actions/userActions';\r\nimport { InviteLogin } from './InviteLogin';\r\nimport { RootState } from '../store';\r\nimport { GameState } from '../store/reducers/gameReducer';\r\nimport { socketService } from '../services/socket.service';\r\nimport { eventBusService } from '../services/event-bus.service';\r\nimport IGame from '../interface/IGame.interfacets';\r\n\r\ninterface PropType {\r\n    history: any\r\n    match: any\r\n}\r\n\r\n\r\nexport const GameApp = ({ match, history }: PropType) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const { game }: GameState = useSelector((state: RootState) => state.gameModule)\r\n\r\n    useEffect(() => {\r\n        const { gameId } = match.params;\r\n        dispatch(loadGame(gameId))\r\n        socketService.setup();\r\n        socketService.emit('gameId', gameId)\r\n        socketService.on('draw-updated', () => {\r\n            dispatch(loadGame(gameId))\r\n        })\r\n        socketService.on('route-changed', async (route: string): Promise<void> => {\r\n            await dispatch(loadGame(gameId))\r\n            history.push(`./${route}`)\r\n            utilService.showUpdateMassage(route)\r\n        })\r\n        socketService.on('game-finished', () => {\r\n            quitGame()\r\n        })\r\n        return () => {\r\n            socketService.off('gameId')\r\n            socketService.off('draw-updated')\r\n            socketService.off('route-changed')\r\n            socketService.off('game-finished')\r\n        }\r\n    }, [])\r\n\r\n    const historyPush = (route: string): void => {\r\n        history.push(`./${route}`)\r\n    }\r\n\r\n    const onFinishGame = async () => {\r\n        try {\r\n            await dispatch(finishGame(game as IGame))\r\n            quitGame()\r\n        } catch (err) {\r\n            console.log('cannot finish game', err)\r\n            eventBusService.showErrorMsg('Cannot finish game!')\r\n        }\r\n    }\r\n\r\n    const quitGame = async () => {\r\n        dispatch(onLogout())\r\n        dispatch(resetGame())\r\n        eventBusService.showSuccessMsg('Game finished!')\r\n        history.push('')\r\n    }\r\n\r\n    if (!game) return <Loading />\r\n\r\n    return (\r\n        <section className=\"game-app flex direction-col\">\r\n            <button onClick={onFinishGame} className=\"btn-finish-game\" >Finish Game</button>\r\n            <GameSummary game={game} />\r\n            <Route exact path=\"/game/:gameId/draw-guess\" render={() => <DrawGuess historyPush={historyPush} />} />\r\n            <Route exact path=\"/game/:gameId/waiting-choose\" render={() => <WaitingChoose historyPush={historyPush} />} />\r\n            <Route exact path=\"/game/:gameId/invite-login\" render={() => <InviteLogin historyPush={historyPush} />} />\r\n        </section>\r\n    )\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Login } from \"../cmp/Login\";\r\nimport { RootState } from \"../store\";\r\nimport { onLogout } from \"../store/actions/userActions\";\r\nimport { UserState } from \"../store/reducers/userReducer\";\r\n\r\nexport const StartNewGame = ({ history }: any) => {\r\n\r\n    const { loggedinUser }: UserState = useSelector((state: RootState) => state.userModule)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        if (loggedinUser) dispatch(onLogout())\r\n    }, [])\r\n\r\n    const historyPush = (route: string): void => {\r\n        history.push(route)\r\n    }\r\n\r\n    return (\r\n        <section className=\"start-new-game tac\">\r\n            <h1>Start a new game!</h1>\r\n            <Login historyPush={historyPush} />\r\n        </section>\r\n    )\r\n}\r\n","import { useEffect, useState } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { GameList } from \"../cmp/GameList\"\r\nimport { Loading } from \"../cmp/Loading\"\r\nimport { UserList } from \"../cmp/UserList\"\r\nimport IGame from \"../interface/IGame.interfacets\"\r\nimport IUser from \"../interface/IUser.interfacets\"\r\nimport { gameService } from \"../services/game.service\"\r\nimport { userService } from \"../services/user.service\"\r\nimport { utilService } from \"../services/util.service\"\r\nimport { RootState } from \"../store\"\r\nimport { onLogout } from \"../store/actions/userActions\"\r\nimport { UserState } from \"../store/reducers/userReducer\"\r\n\r\nexport const HomePage = () => {\r\n\r\n    const { loggedinUser }: UserState = useSelector((state: RootState) => state.userModule)\r\n    const dispatch = useDispatch()\r\n    const [users, setUsers] = useState<IUser[] | null>(null);\r\n    const [lastGames, setLastGames] = useState<IGame | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (loggedinUser) dispatch(onLogout())\r\n        getBestUsers()\r\n        getLastGame()\r\n    }, [])\r\n\r\n    const getBestUsers = async () => {\r\n        let usersToShow: IUser[] = await userService.getUsers()\r\n        usersToShow = utilService.sortByValue(usersToShow, 'points')\r\n        usersToShow = usersToShow.slice(0, 3)\r\n        setUsers(usersToShow)\r\n    }\r\n\r\n    const getLastGame = async () => {\r\n        let gamesToShow: IGame = await gameService.getLastGames('finish')\r\n        setLastGames(gamesToShow)\r\n    }\r\n\r\n    if (!users || !lastGames) return <Loading />\r\n\r\n    return (\r\n        <section className=\"home-page tac\">\r\n            <h1>Welcome!</h1>\r\n            <button>\r\n                <Link to='/game' >Create a new Game</Link>\r\n            </button>\r\n            <h2 className=\"how\">How to play</h2>\r\n            <ol>\r\n                <li>Create new game</li>\r\n                <li>Choose player</li>\r\n                <li>Send a link to your friend and wait for him to join</li>\r\n                <li>Start drawing and guessing!</li>\r\n                <li>Enjoy!!!</li>\r\n            </ol>\r\n            <h1>Best 3 Users</h1>\r\n            <UserList users={users} setSelectedUser={() => { }} />\r\n            <h1>Last 3 Games</h1>\r\n            <GameList games={lastGames} />\r\n        </section>\r\n    )\r\n}\r\n","import { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport { AppFotter } from './cmp/AppFooter';\nimport { AppHeader } from './cmp/AppHeader';\nimport { UserMsg } from './cmp/UserMsg';\nimport routes from './routes/routes';\n\nfunction App() {\n  return (\n    <Router>\n      <UserMsg />\n      <AppHeader />\n      <main className=\"main-container\">\n        <Switch>\n          {routes.map(route => <Route key={route.path} component={route.component} path={route.path} />)}\n        </Switch>\n      </main>\n      <AppFotter />\n    </Router>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import IGame from \"../../interface/IGame.interfacets\"\n\nconst INITIAL_STATE: GameState = {\n  game: null,\n  roundIdx: 0\n}\n\nexport function gameReducer(state: GameState = INITIAL_STATE, action: GameAction) {\n  switch (action.type) {\n    case 'SET_GAME':\n      return {\n        ...state,\n        game: action.game,\n        roundIdx: action.game ? (action.game.rounds.length - 1) : 0\n      }\n    default:\n      return state\n  }\n}\n\nexport interface GameAction {\n  type: string\n  game: IGame,\n}\n\nexport interface GameState {\n  game: IGame | null,\n  roundIdx: number\n}","import IUser from \"../../interface/IUser.interfacets\";\n\nconst initialState: UserState = {\n  loggedinUser: null\n}\n\nexport function userReducer(state: UserState = initialState, action: UserAction) {\n  var newState = state;\n  switch (action.type) {\n    case 'SET_USER':\n      newState = { ...state, loggedinUser: action.user }\n      break;\n    default:\n  }\n  return newState;\n}\n\ninterface UserAction {\n  user: IUser,\n  type: string\n}\n\nexport interface UserState {\n  loggedinUser: IUser | null,\n}","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport { gameReducer } from './reducers/gameReducer';\nimport { userReducer } from './reducers/userReducer';\n\ndeclare global {\n  interface Window {\n    __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\n  }\n}\n\n// Connecting redux devtools\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\n// Combining reducers into one\nconst rootReducer = combineReducers({\n  userModule: userReducer,\n  gameModule: gameReducer,\n})\n\nexport type RootState = ReturnType<typeof rootReducer>\n\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport '../src/assets/styles/main.scss';\nimport { Provider } from 'react-redux';\nimport { store } from './store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}